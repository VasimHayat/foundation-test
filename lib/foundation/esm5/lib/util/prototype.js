/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { FnDateFormatter } from "./date";
// All String Prototype //
String.prototype.startsWith = (/**
 * @param {?} str
 * @return {?}
 */
function (str) {
    return this.indexOf(str) == 0;
});
String.prototype.getFirstChar = (/**
 * @return {?}
 */
function () {
    return this[0];
});
String.prototype.removeSpaces = (/**
 * @return {?}
 */
function () {
    return this.replace(/\s+/g, '');
});
String.prototype.endsWith = (/**
 * @param {?} suffix
 * @return {?}
 */
function (suffix) {
    return this.indexOf(suffix, this.length - suffix.length) !== -1;
});
String.prototype.codePointBefore = (/**
 * @param {?} string
 * @return {?}
 */
function (string) {
    return this.substr(0, this.indexOf(string));
});
String.prototype.insertCharAt = (/**
 * @param {?} index
 * @param {?} character
 * @return {?}
 */
function (index, character) {
    return this.substr(0, index) + character + this.substr(index + character.length);
});
String.prototype.replaceAll = (/**
 * @param {?} str1
 * @param {?} str2
 * @param {?} ignore
 * @return {?}
 */
function (str1, str2, ignore) {
    return this.replace(new RegExp(str1.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g, "\\$&"), (ignore ? "gi" : "g")), (typeof (str2) == "string") ? str2.replace(/\$/g, "$$$$") : str2);
});
String.prototype.capitalizeFirstLetter = (/**
 * @return {?}
 */
function () {
    return this.charAt(0).toUpperCase() + this.slice(1);
});
String.prototype.includes = (/**
 * @return {?}
 */
function () {
    'use strict';
    return String.prototype.indexOf.apply(this, arguments) !== -1;
});
String.prototype.contains = (/**
 * @param {?} str
 * @param {?} startIndex
 * @return {?}
 */
function (str, startIndex) {
    return ''.indexOf.call(this, str, startIndex) !== -1;
});
// All Date Prototype //
Date.prototype.formatter = (/**
 * @param {?} formatterString
 * @param {?=} langId
 * @return {?}
 */
function (formatterString, langId) {
    return new FnDateFormatter().format(this, formatterString, langId);
});
Date.prototype.getCurrentDate = (/**
 * @return {?}
 */
function () {
    return new Date(this.getFullYear(), this.getMonth(), this.getDate());
});
Date.prototype.offsetMntsToBusiDate = (/**
 * @param {?} minutes
 * @return {?}
 */
function (minutes) {
    /** @type {?} */
    var date = new Date(this.getFullYear(), this.getMonth(), this.getDate());
    date.setMinutes(minutes);
    return date;
});
Date.prototype.timeForZoneOffset = (/**
 * @param {?} offset
 * @return {?}
 */
function (offset) {
    /** @type {?} */
    var utc = this.getTime() + (this.getTimezoneOffset() * 60000);
    /** @type {?} */
    var newDate = new Date(utc + (3600000 * offset));
    return newDate;
});
Date.prototype.getWeek = (/**
 * @return {?}
 */
function () {
    /** @type {?} */
    var onejan = new Date(this.getFullYear(), 0, 1);
    return Math.ceil((((this - this.onejan) / 86400000) + onejan.getDay() + 1) / 7);
});
Date.prototype.dateOffset = (/**
 * @param {?} offset
 * @return {?}
 */
function (offset) {
    this.setDate(this.getDate() + offset);
    return this;
});
Date.prototype.getNextPrevDates = (/**
 * @param {?} numOfDays
 * @return {?}
 */
function (numOfDays) {
    /** @type {?} */
    var nextDate = this;
    if (numOfDays === undefined || numOfDays === 0)
        return nextDate;
    return new Date(nextDate.setDate(nextDate.getDate() + numOfDays));
});
Date.prototype.getMinutesOfDay = (/**
 * @return {?}
 */
function () {
    return (this.getHours() * 60) + this.getMinutes();
});
Date.prototype.getFormattedTime = (/**
 * @return {?}
 */
function () {
    return this.formatter("RIB");
});
Date.prototype.addDays = (/**
 * @param {?} days
 * @return {?}
 */
function (days) {
    if (!days)
        return this;
    console.log(this);
    /** @type {?} */
    var date = this;
    date.setDate(date.getDate() + days);
    return date;
});
Date.prototype.isToday = (/**
 * @return {?}
 */
function () {
    /** @type {?} */
    var today = new Date();
    return this.isSameDate(today);
});
Date.prototype.clone = (/**
 * @return {?}
 */
function () {
    return new Date(+this);
});
Date.prototype.isAnotherMonth = (/**
 * @param {?} date
 * @return {?}
 */
function (date) {
    return date && this.getMonth() !== date.getMonth();
});
Date.prototype.isWeekend = (/**
 * @return {?}
 */
function () {
    return this.getDay() === 0 || this.getDay() === 6;
});
Date.prototype.isSameDate = (/**
 * @param {?} date
 * @return {?}
 */
function (date) {
    return date && this.getFullYear() === date.getFullYear() && this.getMonth() === date.getMonth() && this.getDate() === date.getDate();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG90eXBlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vZm91bmRhdGlvbi8iLCJzb3VyY2VzIjpbImxpYi91dGlsL3Byb3RvdHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFFBQVEsQ0FBQzs7QUEyQ3pDLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVTs7OztBQUFHLFVBQVUsR0FBUTtJQUM1QyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2xDLENBQUMsQ0FBQSxDQUFDO0FBRUYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZOzs7QUFBRztJQUM1QixPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQixDQUFDLENBQUEsQ0FBQztBQUVGLE1BQU0sQ0FBQyxTQUFTLENBQUMsWUFBWTs7O0FBQUc7SUFDNUIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNwQyxDQUFDLENBQUEsQ0FBQztBQUVGLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUTs7OztBQUFHLFVBQVUsTUFBVztJQUM3QyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ3BFLENBQUMsQ0FBQSxDQUFDO0FBRUYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlOzs7O0FBQUcsVUFBVSxNQUFXO0lBQ3BELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ2hELENBQUMsQ0FBQSxDQUFDO0FBRUYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZOzs7OztBQUFHLFVBQVUsS0FBYSxFQUFFLFNBQWM7SUFDbkUsT0FBTyxJQUFJ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LEVBQUUsS0FBSyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3pJLENBQUMsQ0FBQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRm5EYXRlRm9ybWF0dGVyIH0gZnJvbSBcIi4vZGF0ZVwiO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gICAgaW50ZXJmYWNlIERhdGUge1xyXG4gICAgICAgIGZvcm1hdHRlcihmb3JtYXR0ZXJTdHJpbmc6IGFueSwgbGFuZ0lkPzogYW55KTogYW55O1xyXG4gICAgICAgIGdldEZvcm1hdHRlZFRpbWUoKTogYW55O1xyXG4gICAgICAgIGFkZERheXMoZGF5czogbnVtYmVyLCB1c2VUaGlzPzogYm9vbGVhbik6IERhdGU7XHJcbiAgICAgICAgaXNUb2RheSgpOiBib29sZWFuO1xyXG4gICAgICAgIGNsb25lKCk6IERhdGU7XHJcbiAgICAgICAgaXNBbm90aGVyTW9udGgoZGF0ZTogRGF0ZSk6IGJvb2xlYW47XHJcbiAgICAgICAgaXNXZWVrZW5kKCk6IGJvb2xlYW47XHJcbiAgICAgICAgaXNTYW1lRGF0ZShkYXRlOiBEYXRlKTogYm9vbGVhbjtcclxuICAgICAgICBnZXRDdXJyZW50RGF0ZSgpOiBhbnk7XHJcbiAgICAgICAgb2Zmc2V0TW50c1RvQnVzaURhdGUobWludXRlczogYW55KTogYW55O1xyXG4gICAgICAgIHRpbWVGb3Jab25lT2Zmc2V0KG9mZnNldDogYW55KTogYW55O1xyXG4gICAgICAgIGdldE1pbnV0ZXNPZkRheSgpOiBhbnk7XHJcbiAgICAgICAgZ2V0V2VlaygpOiBhbnk7XHJcbiAgICAgICAgZGF0ZU9mZnNldChvZmZzZXQ6IGFueSk6IGFueTtcclxuICAgICAgICBnZXROZXh0UHJldkRhdGVzKG51bU9mRGF5czogYW55KTogYW55O1xyXG5cclxuICAgIH1cclxuICAgIGludGVyZmFjZSBTdHJpbmcge1xyXG4gICAgICAgIHN0YXJ0c1dpdGgoc3RyOiBzdHJpbmcpOiBhbnk7XHJcbiAgICAgICAgZ2V0Rmlyc3RDaGFyKCk6IGFueTtcclxuICAgICAgICByZW1vdmVTcGFjZXMoKTogYW55O1xyXG4gICAgICAgIGVuZHNXaXRoKHN1ZmZpeDogYW55KTogYW55O1xyXG4gICAgICAgIGNvZGVQb2ludEJlZm9yZShzdHI6IHN0cmluZyk6IGFueTtcclxuICAgICAgICBpbnNlcnRDaGFyQXQoaW5kZXg6IG51bWJlciwgY2hhcmFjdGVyOiBhbnkpOiBhbnk7XHJcbiAgICAgICAgcmVwbGFjZUFsbChzdHIxOiBhbnksIHN0cjI6IGFueSwgaWdub3JlOiBhbnkpOiBhbnk7XHJcbiAgICAgICAgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKCk6IGFueTtcclxuICAgICAgICBpbmNsdWRlcygpOiBhbnk7XHJcbiAgICAgICAgY29udGFpbnMoc3RyOiBhbnksIHN0YXJ0SW5kZXg6IGFueSk6IGFueTtcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcclxuICAgICAgICBGaWxlOiBhbnk7XHJcbiAgICAgICAgRmlsZVJlYWRlcjogYW55O1xyXG4gICAgICAgIEZpbGVMaXN0OiBhbnlcclxuICAgIH1cclxuXHJcbn1cclxuLy8gQWxsIFN0cmluZyBQcm90b3R5cGUgLy9cclxuXHJcblN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uIChzdHI6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzdHIpID09IDA7XHJcbn07XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmdldEZpcnN0Q2hhciA9IGZ1bmN0aW9uICgpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXNbMF07XHJcbn07XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLnJlbW92ZVNwYWNlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL1xccysvZywgJycpO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCA9IGZ1bmN0aW9uIChzdWZmaXg6IGFueSk6IGFueSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKHN1ZmZpeCwgdGhpcy5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKSAhPT0gLTE7XHJcbn07XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEJlZm9yZSA9IGZ1bmN0aW9uIChzdHJpbmc6IGFueSk6IGFueSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdWJzdHIoMCwgdGhpcy5pbmRleE9mKHN0cmluZykpO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5pbnNlcnRDaGFyQXQgPSBmdW5jdGlvbiAoaW5kZXg6IG51bWJlciwgY2hhcmFjdGVyOiBhbnkpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3Vic3RyKDAsIGluZGV4KSArIGNoYXJhY3RlciArIHRoaXMuc3Vic3RyKGluZGV4ICsgY2hhcmFjdGVyLmxlbmd0aCk7XHJcbn07XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAoc3RyMTogYW55LCBzdHIyOiBhbnksIGlnbm9yZTogYW55KTogYW55IHtcclxuICAgIHJldHVybiB0aGlzLnJlcGxhY2UobmV3IFJlZ0V4cChzdHIxLnJlcGxhY2UoLyhbXFwvXFwsXFwhXFxcXFxcXlxcJFxce1xcfVxcW1xcXVxcKFxcKVxcLlxcKlxcK1xcP1xcfFxcPFxcPlxcLVxcJl0pL2csIFwiXFxcXCQmXCIpLCAoaWdub3JlID8gXCJnaVwiIDogXCJnXCIpKSwgKHR5cGVvZiAoc3RyMikgPT0gXCJzdHJpbmdcIikgPyBzdHIyLnJlcGxhY2UoL1xcJC9nLCBcIiQkJCRcIikgOiBzdHIyKTtcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnNsaWNlKDEpO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgcmV0dXJuIFN0cmluZy5wcm90b3R5cGUuaW5kZXhPZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpICE9PSAtMTtcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoc3RyOiBhbnksIHN0YXJ0SW5kZXg6IGFueSkge1xyXG4gICAgcmV0dXJuICcnLmluZGV4T2YuY2FsbCh0aGlzLCBzdHIsIHN0YXJ0SW5kZXgpICE9PSAtMTtcclxufTtcclxuXHJcbi8vIEFsbCBEYXRlIFByb3RvdHlwZSAvL1xyXG5cclxuRGF0ZS5wcm90b3R5cGUuZm9ybWF0dGVyID0gZnVuY3Rpb24gKGZvcm1hdHRlclN0cmluZzogYW55LCBsYW5nSWQ/OiBhbnkpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIG5ldyBGbkRhdGVGb3JtYXR0ZXIoKS5mb3JtYXQodGhpcywgZm9ybWF0dGVyU3RyaW5nLCBsYW5nSWQpO1xyXG59O1xyXG5cclxuRGF0ZS5wcm90b3R5cGUuZ2V0Q3VycmVudERhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUodGhpcy5nZXRGdWxsWWVhcigpLCB0aGlzLmdldE1vbnRoKCksIHRoaXMuZ2V0RGF0ZSgpKTtcclxufTtcclxuXHJcbkRhdGUucHJvdG90eXBlLm9mZnNldE1udHNUb0J1c2lEYXRlID0gZnVuY3Rpb24gKG1pbnV0ZXM6IGFueSkge1xyXG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLmdldEZ1bGxZZWFyKCksIHRoaXMuZ2V0TW9udGgoKSwgdGhpcy5nZXREYXRlKCkpO1xyXG4gICAgZGF0ZS5zZXRNaW51dGVzKG1pbnV0ZXMpO1xyXG4gICAgcmV0dXJuIGRhdGU7XHJcbn07XHJcblxyXG5EYXRlLnByb3RvdHlwZS50aW1lRm9yWm9uZU9mZnNldCA9IGZ1bmN0aW9uIChvZmZzZXQ6IGFueSkge1xyXG4gICAgbGV0IHV0YyA9IHRoaXMuZ2V0VGltZSgpICsgKHRoaXMuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKTtcclxuICAgIGxldCBuZXdEYXRlID0gbmV3IERhdGUodXRjICsgKDM2MDAwMDAgKiBvZmZzZXQpKTtcclxuICAgIHJldHVybiBuZXdEYXRlO1xyXG59XHJcblxyXG5cclxuRGF0ZS5wcm90b3R5cGUuZ2V0V2VlayA9IGZ1bmN0aW9uICgpOiBhbnkge1xyXG4gICAgbGV0IG9uZWphbjogRGF0ZSA9IG5ldyBEYXRlKHRoaXMuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XHJcbiAgICByZXR1cm4gTWF0aC5jZWlsKCgoKHRoaXMgLSB0aGlzLm9uZWphbikgLyA4NjQwMDAwMCkgKyBvbmVqYW4uZ2V0RGF5KCkgKyAxKSAvIDcpO1xyXG59XHJcblxyXG5EYXRlLnByb3RvdHlwZS5kYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldDogYW55KTogYW55IHtcclxuICAgIHRoaXMuc2V0RGF0ZSh0aGlzLmdldERhdGUoKSArIG9mZnNldCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxufVxyXG5cclxuRGF0ZS5wcm90b3R5cGUuZ2V0TmV4dFByZXZEYXRlcyA9IGZ1bmN0aW9uIChudW1PZkRheXM6IGFueSk6IGFueSB7XHJcbiAgICB2YXIgbmV4dERhdGUgPSB0aGlzO1xyXG4gICAgaWYgKG51bU9mRGF5cyA9PT0gdW5kZWZpbmVkIHx8IG51bU9mRGF5cyA9PT0gMClcclxuICAgICAgICByZXR1cm4gbmV4dERhdGU7XHJcbiAgICByZXR1cm4gbmV3IERhdGUobmV4dERhdGUuc2V0RGF0ZShuZXh0RGF0ZS5nZXREYXRlKCkgKyBudW1PZkRheXMpKTtcclxufVxyXG5cclxuRGF0ZS5wcm90b3R5cGUuZ2V0TWludXRlc09mRGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLmdldEhvdXJzKCkgKiA2MCkgKyB0aGlzLmdldE1pbnV0ZXMoKTtcclxufVxyXG5cclxuRGF0ZS5wcm90b3R5cGUuZ2V0Rm9ybWF0dGVkVGltZSA9IGZ1bmN0aW9uICgpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0dGVyKFwiUklCXCIpO1xyXG59O1xyXG5cclxuRGF0ZS5wcm90b3R5cGUuYWRkRGF5cyA9IGZ1bmN0aW9uIChkYXlzOiBudW1iZXIpOiBEYXRlIHtcclxuICAgIGlmICghZGF5cykgcmV0dXJuIHRoaXM7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgIGxldCBkYXRlID0gdGhpcztcclxuICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGRheXMpO1xyXG5cclxuICAgIHJldHVybiBkYXRlO1xyXG59O1xyXG5cclxuRGF0ZS5wcm90b3R5cGUuaXNUb2RheSA9IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcclxuICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICByZXR1cm4gdGhpcy5pc1NhbWVEYXRlKHRvZGF5KTtcclxufTtcclxuXHJcbkRhdGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCk6IERhdGUge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKCt0aGlzKTtcclxufTtcclxuXHJcbkRhdGUucHJvdG90eXBlLmlzQW5vdGhlck1vbnRoID0gZnVuY3Rpb24gKGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBkYXRlICYmIHRoaXMuZ2V0TW9udGgoKSAhPT0gZGF0ZS5nZXRNb250aCgpO1xyXG59O1xyXG5cclxuRGF0ZS5wcm90b3R5cGUuaXNXZWVrZW5kID0gZnVuY3Rpb24gKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF5KCkgPT09IDAgfHwgdGhpcy5nZXREYXkoKSA9PT0gNjtcclxufTtcclxuXHJcbkRhdGUucHJvdG90eXBlLmlzU2FtZURhdGUgPSBmdW5jdGlvbiAoZGF0ZTogRGF0ZSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGRhdGUgJiYgdGhpcy5nZXRGdWxsWWVhcigpID09PSBkYXRlLmdldEZ1bGxZZWFyKCkgJiYgdGhpcy5nZXRNb250aCgpID09PSBkYXRlLmdldE1vbnRoKCkgJiYgdGhpcy5nZXREYXRlKCkgPT09IGRhdGUuZ2V0RGF0ZSgpO1xyXG59OyJdfQ==