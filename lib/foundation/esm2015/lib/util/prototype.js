/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { FnDateFormatter } from './date';
// All String Prototype //
String.prototype.startsWith = (/**
 * @param {?} str
 * @return {?}
 */
function (str) {
    return this.indexOf(str) === 0;
});
String.prototype.getFirstChar = (/**
 * @return {?}
 */
function () {
    return this[0];
});
String.prototype.removeSpaces = (/**
 * @return {?}
 */
function () {
    return this.replace(/\s+/g, '');
});
String.prototype.endsWith = (/**
 * @param {?} suffix
 * @return {?}
 */
function (suffix) {
    return this.indexOf(suffix, this.length - suffix.length) !== -1;
});
String.prototype.codePointBefore = (/**
 * @param {?} strVal
 * @return {?}
 */
function (strVal) {
    return this.substr(0, this.indexOf(strVal));
});
String.prototype.insertCharAt = (/**
 * @param {?} index
 * @param {?} character
 * @return {?}
 */
function (index, character) {
    return this.substr(0, index) + character + this.substr(index + character.length);
});
String.prototype.replaceAll = (/**
 * @param {?} str1
 * @param {?} str2
 * @param {?} ignore
 * @return {?}
 */
function (str1, str2, ignore) {
    return this.replace(new RegExp(str1.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g, '\\$&'), (ignore ? 'gi' : 'g')), (typeof (str2) === 'string') ?
        str2.replace(/\$/g, '$$$$') : str2);
});
String.prototype.capitalizeFirstLetter = (/**
 * @return {?}
 */
function () {
    return this.charAt(0).toUpperCase() + this.slice(1);
});
String.prototype.includes = (/**
 * @return {?}
 */
function () {
    'use strict';
    return String.prototype.indexOf.apply(this, arguments) !== -1;
});
String.prototype.contains = (/**
 * @param {?} str
 * @param {?} startIndex
 * @return {?}
 */
function (str, startIndex) {
    return ''.indexOf.call(this, str, startIndex) !== -1;
});
// All Date Prototype //
Date.prototype.formatter = (/**
 * @param {?} formatterString
 * @param {?=} langId
 * @return {?}
 */
function (formatterString, langId) {
    return new FnDateFormatter().format(this, formatterString, langId);
});
Date.prototype.getCurrentDate = (/**
 * @return {?}
 */
function () {
    return new Date(this.getFullYear(), this.getMonth(), this.getDate());
});
Date.prototype.offsetMntsToBusiDate = (/**
 * @param {?} minutes
 * @return {?}
 */
function (minutes) {
    /** @type {?} */
    const date = new Date(this.getFullYear(), this.getMonth(), this.getDate());
    date.setMinutes(minutes);
    return date;
});
Date.prototype.timeForZoneOffset = (/**
 * @param {?} offset
 * @return {?}
 */
function (offset) {
    /** @type {?} */
    const utc = this.getTime() + (this.getTimezoneOffset() * 60000);
    /** @type {?} */
    const newDate = new Date(utc + (3600000 * offset));
    return newDate;
});
Date.prototype.getWeek = (/**
 * @return {?}
 */
function () {
    /** @type {?} */
    const onejan = new Date(this.getFullYear(), 0, 1);
    return Math.ceil((((this - this.onejan) / 86400000) + onejan.getDay() + 1) / 7);
});
Date.prototype.dateOffset = (/**
 * @param {?} offset
 * @return {?}
 */
function (offset) {
    this.setDate(this.getDate() + offset);
    return this;
});
Date.prototype.getNextPrevDates = (/**
 * @param {?} numOfDays
 * @return {?}
 */
function (numOfDays) {
    /** @type {?} */
    const nextDate = this;
    if (numOfDays === undefined || numOfDays === 0) {
        return nextDate;
    }
    return new Date(nextDate.setDate(nextDate.getDate() + numOfDays));
});
Date.prototype.getMinutesOfDay = (/**
 * @return {?}
 */
function () {
    return (this.getHours() * 60) + this.getMinutes();
});
Date.prototype.getFormattedTime = (/**
 * @return {?}
 */
function () {
    return this.formatter('RIB');
});
Date.prototype.addDays = (/**
 * @param {?} days
 * @return {?}
 */
function (days) {
    if (!days) {
        return this;
    }
    console.log(this);
    /** @type {?} */
    const date = this;
    date.setDate(date.getDate() + days);
    return date;
});
Date.prototype.isToday = (/**
 * @return {?}
 */
function () {
    return this.isSameDate(new Date());
});
Date.prototype.clone = (/**
 * @return {?}
 */
function () {
    return new Date(+this);
});
Date.prototype.isAnotherMonth = (/**
 * @param {?} date
 * @return {?}
 */
function (date) {
    return date && this.getMonth() !== date.getMonth();
});
Date.prototype.isWeekend = (/**
 * @return {?}
 */
function () {
    return this.getDay() === 0 || this.getDay() === 6;
});
Date.prototype.isSameDate = (/**
 * @param {?} date
 * @return {?}
 */
function (date) {
    return date && this.getFullYear() === date.getFullYear() && this.getMonth() === date.getMonth() && this.getDate() === date.getDate();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG90eXBlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vZm91bmRhdGlvbi8iLCJzb3VyY2VzIjpbImxpYi91dGlsL3Byb3RvdHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLFFBQVEsQ0FBQzs7QUFtRXZDLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVTs7OztBQUFHLFVBQVMsR0FBUTtJQUM3QyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2pDLENBQUMsQ0FBQSxDQUFDO0FBRUYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZOzs7QUFBRztJQUM5QixPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQixDQUFDLENBQUEsQ0FBQztBQUVGLE1BQU0sQ0FBQyxTQUFTLENBQUMsWUFBWTs7O0FBQUc7SUFDOUIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNsQyxDQUFDLENBQUEsQ0FBQztBQUVGLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUTs7OztBQUFHLFVBQVMsTUFBVztJQUM5QyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ2xFLENBQUMsQ0FBQSxDQUFDO0FBRUYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlOzs7O0FBQUcsVUFBUyxNQUFXO0lBQ3JELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQzlDLENBQUMsQ0FBQSxDQUFDO0FBRUYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZOzs7OztBQUFHLFVBQVMsS0FBYSxFQUFFLFNBQWM7SUFDcEUsT0FBTyxJQUFJ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QUFFLEtBQUssSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxLQUFLLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUN2SSxDQUFDLENBQUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Rm5EYXRlRm9ybWF0dGVyfSBmcm9tICcuL2RhdGUnO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIGludGVyZmFjZSBEYXRlIHtcclxuICAgIGZvcm1hdHRlcihmb3JtYXR0ZXJTdHJpbmc6IGFueSwgbGFuZ0lkPzogYW55KTogYW55O1xyXG5cclxuICAgIGdldEZvcm1hdHRlZFRpbWUoKTogYW55O1xyXG5cclxuICAgIGFkZERheXMoZGF5czogbnVtYmVyLCB1c2VUaGlzPzogYm9vbGVhbik6IERhdGU7XHJcblxyXG4gICAgaXNUb2RheSgpOiBib29sZWFuO1xyXG5cclxuICAgIGNsb25lKCk6IERhdGU7XHJcblxyXG4gICAgaXNBbm90aGVyTW9udGgoZGF0ZTogRGF0ZSk6IGJvb2xlYW47XHJcblxyXG4gICAgaXNXZWVrZW5kKCk6IGJvb2xlYW47XHJcblxyXG4gICAgaXNTYW1lRGF0ZShkYXRlOiBEYXRlKTogYm9vbGVhbjtcclxuXHJcbiAgICBnZXRDdXJyZW50RGF0ZSgpOiBhbnk7XHJcblxyXG4gICAgb2Zmc2V0TW50c1RvQnVzaURhdGUobWludXRlczogYW55KTogYW55O1xyXG5cclxuICAgIHRpbWVGb3Jab25lT2Zmc2V0KG9mZnNldDogYW55KTogYW55O1xyXG5cclxuICAgIGdldE1pbnV0ZXNPZkRheSgpOiBhbnk7XHJcblxyXG4gICAgZ2V0V2VlaygpOiBhbnk7XHJcblxyXG4gICAgZGF0ZU9mZnNldChvZmZzZXQ6IGFueSk6IGFueTtcclxuXHJcbiAgICBnZXROZXh0UHJldkRhdGVzKG51bU9mRGF5czogYW55KTogYW55O1xyXG5cclxuICB9XHJcblxyXG4gIGludGVyZmFjZSBTdHJpbmcge1xyXG4gICAgc3RhcnRzV2l0aChzdHI6IHN0cmluZyk6IGFueTtcclxuXHJcbiAgICBnZXRGaXJzdENoYXIoKTogYW55O1xyXG5cclxuICAgIHJlbW92ZVNwYWNlcygpOiBhbnk7XHJcblxyXG4gICAgZW5kc1dpdGgoc3VmZml4OiBhbnkpOiBhbnk7XHJcblxyXG4gICAgY29kZVBvaW50QmVmb3JlKHN0cjogc3RyaW5nKTogYW55O1xyXG5cclxuICAgIGluc2VydENoYXJBdChpbmRleDogbnVtYmVyLCBjaGFyYWN0ZXI6IGFueSk6IGFueTtcclxuXHJcbiAgICByZXBsYWNlQWxsKHN0cjE6IGFueSwgc3RyMjogYW55LCBpZ25vcmU6IGFueSk6IGFueTtcclxuXHJcbiAgICBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoKTogYW55O1xyXG5cclxuICAgIGluY2x1ZGVzKCk6IGFueTtcclxuXHJcbiAgICBjb250YWlucyhzdHI6IGFueSwgc3RhcnRJbmRleDogYW55KTogYW55O1xyXG4gIH1cclxuXHJcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XHJcbiAgICBGaWxlOiBhbnk7XHJcbiAgICBGaWxlUmVhZGVyOiBhbnk7XHJcbiAgICBGaWxlTGlzdDogYW55O1xyXG4gIH1cclxuXHJcbn1cclxuLy8gQWxsIFN0cmluZyBQcm90b3R5cGUgLy9cclxuXHJcblN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uKHN0cjogYW55KTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZihzdHIpID09PSAwO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5nZXRGaXJzdENoYXIgPSBmdW5jdGlvbigpOiBhbnkge1xyXG4gIHJldHVybiB0aGlzWzBdO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5yZW1vdmVTcGFjZXMgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4gdGhpcy5yZXBsYWNlKC9cXHMrL2csICcnKTtcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGggPSBmdW5jdGlvbihzdWZmaXg6IGFueSk6IGFueSB7XHJcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZihzdWZmaXgsIHRoaXMubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkgIT09IC0xO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRCZWZvcmUgPSBmdW5jdGlvbihzdHJWYWw6IGFueSk6IGFueSB7XHJcbiAgcmV0dXJuIHRoaXMuc3Vic3RyKDAsIHRoaXMuaW5kZXhPZihzdHJWYWwpKTtcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUuaW5zZXJ0Q2hhckF0ID0gZnVuY3Rpb24oaW5kZXg6IG51bWJlciwgY2hhcmFjdGVyOiBhbnkpOiBhbnkge1xyXG4gIHJldHVybiB0aGlzLnN1YnN0cigwLCBpbmRleCkgKyBjaGFyYWN0ZXIgKyB0aGlzLnN1YnN0cihpbmRleCArIGNoYXJhY3Rlci5sZW5ndGgpO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlQWxsID0gZnVuY3Rpb24oc3RyMTogYW55LCBzdHIyOiBhbnksIGlnbm9yZTogYW55KTogYW55IHtcclxuICByZXR1cm4gdGhpcy5yZXBsYWNlKG5ldyBSZWdFeHAoc3RyMS5yZXBsYWNlKC8oW1xcL1xcLFxcIVxcXFxcXF5cXCRcXHtcXH1cXFtcXF1cXChcXClcXC5cXCpcXCtcXD9cXHxcXDxcXD5cXC1cXCZdKS9nLFxyXG4gICAgJ1xcXFwkJicpLCAoaWdub3JlID8gJ2dpJyA6ICdnJykpLCAodHlwZW9mIChzdHIyKSA9PT0gJ3N0cmluZycpID9cclxuICAgIHN0cjIucmVwbGFjZSgvXFwkL2csICckJCQkJykgOiBzdHIyKTtcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHRoaXMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnNsaWNlKDEpO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICByZXR1cm4gU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgIT09IC0xO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uKHN0cjogYW55LCBzdGFydEluZGV4OiBhbnkpIHtcclxuICByZXR1cm4gJycuaW5kZXhPZi5jYWxsKHRoaXMsIHN0ciwgc3RhcnRJbmRleCkgIT09IC0xO1xyXG59O1xyXG5cclxuLy8gQWxsIERhdGUgUHJvdG90eXBlIC8vXHJcblxyXG5EYXRlLnByb3RvdHlwZS5mb3JtYXR0ZXIgPSBmdW5jdGlvbihmb3JtYXR0ZXJTdHJpbmc6IGFueSwgbGFuZ0lkPzogYW55KTogc3RyaW5nIHtcclxuICByZXR1cm4gbmV3IEZuRGF0ZUZvcm1hdHRlcigpLmZvcm1hdCh0aGlzLCBmb3JtYXR0ZXJTdHJpbmcsIGxhbmdJZCk7XHJcbn07XHJcblxyXG5EYXRlLnByb3RvdHlwZS5nZXRDdXJyZW50RGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiBuZXcgRGF0ZSh0aGlzLmdldEZ1bGxZZWFyKCksIHRoaXMuZ2V0TW9udGgoKSwgdGhpcy5nZXREYXRlKCkpO1xyXG59O1xyXG5cclxuRGF0ZS5wcm90b3R5cGUub2Zmc2V0TW50c1RvQnVzaURhdGUgPSBmdW5jdGlvbihtaW51dGVzOiBhbnkpIHtcclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUodGhpcy5nZXRGdWxsWWVhcigpLCB0aGlzLmdldE1vbnRoKCksIHRoaXMuZ2V0RGF0ZSgpKTtcclxuICBkYXRlLnNldE1pbnV0ZXMobWludXRlcyk7XHJcbiAgcmV0dXJuIGRhdGU7XHJcbn07XHJcblxyXG5EYXRlLnByb3RvdHlwZS50aW1lRm9yWm9uZU9mZnNldCA9IGZ1bmN0aW9uKG9mZnNldDogYW55KSB7XHJcbiAgY29uc3QgdXRjID0gdGhpcy5nZXRUaW1lKCkgKyAodGhpcy5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xyXG4gIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSh1dGMgKyAoMzYwMDAwMCAqIG9mZnNldCkpO1xyXG4gIHJldHVybiBuZXdEYXRlO1xyXG59O1xyXG5cclxuXHJcbkRhdGUucHJvdG90eXBlLmdldFdlZWsgPSBmdW5jdGlvbigpOiBhbnkge1xyXG4gIGNvbnN0IG9uZWphbjogRGF0ZSA9IG5ldyBEYXRlKHRoaXMuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XHJcbiAgcmV0dXJuIE1hdGguY2VpbCgoKCh0aGlzIC0gdGhpcy5vbmVqYW4pIC8gODY0MDAwMDApICsgb25lamFuLmdldERheSgpICsgMSkgLyA3KTtcclxufTtcclxuXHJcbkRhdGUucHJvdG90eXBlLmRhdGVPZmZzZXQgPSBmdW5jdGlvbihvZmZzZXQ6IGFueSk6IGFueSB7XHJcbiAgdGhpcy5zZXREYXRlKHRoaXMuZ2V0RGF0ZSgpICsgb2Zmc2V0KTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbkRhdGUucHJvdG90eXBlLmdldE5leHRQcmV2RGF0ZXMgPSBmdW5jdGlvbihudW1PZkRheXM6IGFueSk6IGFueSB7XHJcbiAgY29uc3QgbmV4dERhdGUgPSB0aGlzO1xyXG4gIGlmIChudW1PZkRheXMgPT09IHVuZGVmaW5lZCB8fCBudW1PZkRheXMgPT09IDApIHtcclxuICAgIHJldHVybiBuZXh0RGF0ZTtcclxuICB9XHJcbiAgcmV0dXJuIG5ldyBEYXRlKG5leHREYXRlLnNldERhdGUobmV4dERhdGUuZ2V0RGF0ZSgpICsgbnVtT2ZEYXlzKSk7XHJcbn07XHJcblxyXG5EYXRlLnByb3RvdHlwZS5nZXRNaW51dGVzT2ZEYXkgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4gKHRoaXMuZ2V0SG91cnMoKSAqIDYwKSArIHRoaXMuZ2V0TWludXRlcygpO1xyXG59O1xyXG5cclxuRGF0ZS5wcm90b3R5cGUuZ2V0Rm9ybWF0dGVkVGltZSA9IGZ1bmN0aW9uKCk6IGFueSB7XHJcbiAgcmV0dXJuIHRoaXMuZm9ybWF0dGVyKCdSSUInKTtcclxufTtcclxuXHJcbkRhdGUucHJvdG90eXBlLmFkZERheXMgPSBmdW5jdGlvbihkYXlzOiBudW1iZXIpOiBEYXRlIHtcclxuICBpZiAoIWRheXMpIHsgcmV0dXJuIHRoaXM7IH1cclxuICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICBjb25zdCBkYXRlID0gdGhpcztcclxuICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBkYXlzKTtcclxuXHJcbiAgcmV0dXJuIGRhdGU7XHJcbn07XHJcblxyXG5EYXRlLnByb3RvdHlwZS5pc1RvZGF5ID0gZnVuY3Rpb24oKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHRoaXMuaXNTYW1lRGF0ZSggbmV3IERhdGUoKSk7XHJcbn07XHJcblxyXG5EYXRlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCk6IERhdGUge1xyXG4gIHJldHVybiBuZXcgRGF0ZSgrdGhpcyk7XHJcbn07XHJcblxyXG5EYXRlLnByb3RvdHlwZS5pc0Fub3RoZXJNb250aCA9IGZ1bmN0aW9uKGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuICByZXR1cm4gZGF0ZSAmJiB0aGlzLmdldE1vbnRoKCkgIT09IGRhdGUuZ2V0TW9udGgoKTtcclxufTtcclxuXHJcbkRhdGUucHJvdG90eXBlLmlzV2Vla2VuZCA9IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiB0aGlzLmdldERheSgpID09PSAwIHx8IHRoaXMuZ2V0RGF5KCkgPT09IDY7XHJcbn07XHJcblxyXG5EYXRlLnByb3RvdHlwZS5pc1NhbWVEYXRlID0gZnVuY3Rpb24oZGF0ZTogRGF0ZSk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBkYXRlICYmIHRoaXMuZ2V0RnVsbFllYXIoKSA9PT0gZGF0ZS5nZXRGdWxsWWVhcigpICYmIHRoaXMuZ2V0TW9udGgoKSA9PT0gZGF0ZS5nZXRNb250aCgpICYmIHRoaXMuZ2V0RGF0ZSgpID09PSBkYXRlLmdldERhdGUoKTtcclxufTtcclxuIl19